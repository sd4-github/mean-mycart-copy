(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{SwNg:function(l,n,u){"use strict";u.r(n);var s=u("8Y7J"),e=u("s7LF");class t{constructor(l,n,u,s){this.authService=l,this.router=n,this.route=u,this.fb=s,this.IsResetFormValid=!0,this.CurrentState="Wait",this.route.params.subscribe(l=>{console.log("params:",l),this.resetToken=l.token,console.log(this.resetToken),this.VerifyToken()})}ngOnInit(){this.Init()}VerifyToken(){this.authService.ValidPasswordToken({resettoken:this.resetToken}).subscribe(l=>{this.CurrentState="Verified"},l=>{this.CurrentState="NotVerified"})}Init(){this.ResponseResetForm=this.fb.group({resettoken:[this.resetToken],newPassword:["",[e.u.required,e.u.minLength(4)]],password:["",[e.u.required,e.u.minLength(4)]]})}Validate(l){const n=l.controls.password.value;return n.length<=0?null:n!==l.controls.newPassword.value?{doesNotMatch:!0}:null}ResetPassword(l){console.log(l.get("password")),console.log(l.value.password),l.valid?(this.IsResetFormValid=!0,this.authService.newPassword(l.value).subscribe(l=>{console.log("data:",l),this.ResponseResetForm.reset(),setTimeout(()=>{this.successMessage=null,this.router.navigate(["/login"])})},l=>{l&&console.log("err",l)})):this.IsResetFormValid=!1}}class o{}var r=u("pMnS"),i=u("SVse"),a=u("vf1b"),b=u("iInd"),c=s.wb({encapsulation:0,styles:[[""]],data:{}});function d(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),s.yb(1,0,null,null,2,"div",[["class","col-md-12  close-form"]],null,null,null,null,null)),(l()(),s.yb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),s.Rb(-1,null,[" Please Wait..."]))],null,null)}function g(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),s.yb(1,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),s.yb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),s.Rb(-1,null,[" Invalid URL."]))],null,null)}function p(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,2,"div",[["id","errorMsg"]],null,null,null,null,null)),(l()(),s.yb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),s.Rb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.component.errorMessage)}))}function m(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,2,"div",[["id","successMsg"]],null,null,null,null,null)),(l()(),s.yb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),s.Rb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.component.successMessage)}))}function f(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,1,"span",[["class","help-block"]],null,null,null,null,null)),(l()(),s.Rb(-1,null,["Password is required with atleast 4 characters."]))],null,null)}function h(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,1,"span",[["class","help-block"]],null,null,null,null,null)),(l()(),s.Rb(-1,null,[". "]))],null,null)}function v(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,1,"span",[["class","help-block"]],null,null,null,null,null)),(l()(),s.Rb(-1,null,["Confirm Password does not match with password."]))],null,null)}function w(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(l()(),s.yb(1,0,null,null,38,"div",[["class","col-sm-9 col-md-7 col-lg-5 mx-auto"]],null,null,null,null,null)),(l()(),s.yb(2,0,null,null,37,"div",[["class","card card-signin my-5"]],null,null,null,null,null)),(l()(),s.yb(3,0,null,null,36,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),s.yb(4,0,null,null,1,"h5",[["class","card-title text-center"]],null,null,null,null,null)),(l()(),s.Rb(-1,null,["Set New Password"])),(l()(),s.yb(6,0,null,null,33,"div",[],null,null,null,null,null)),(l()(),s.nb(16777216,null,null,1,null,p)),s.xb(8,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.nb(16777216,null,null,1,null,m)),s.xb(10,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.yb(11,0,null,null,28,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,t=l.component;return"submit"===n&&(e=!1!==s.Kb(l,13).onSubmit(u)&&e),"reset"===n&&(e=!1!==s.Kb(l,13).onReset()&&e),"ngSubmit"===n&&(e=!1!==t.ResetPassword(t.ResponseResetForm)&&e),e}),null,null)),s.xb(12,16384,null,0,e.y,[],null,null),s.xb(13,540672,null,0,e.i,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),s.Ob(2048,null,e.c,null,[e.i]),s.xb(15,16384,null,0,e.o,[[4,e.c]],null,null),(l()(),s.yb(16,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s.yb(17,0,null,null,5,"input",[["_ngcontent-c0",""],["class","form-control form-control-lg"],["formControlName","newPassword"],["id","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0;return"input"===n&&(e=!1!==s.Kb(l,18)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==s.Kb(l,18).onTouched()&&e),"compositionstart"===n&&(e=!1!==s.Kb(l,18)._compositionStart()&&e),"compositionend"===n&&(e=!1!==s.Kb(l,18)._compositionEnd(u.target.value)&&e),e}),null,null)),s.xb(18,16384,null,0,e.d,[s.J,s.n,[2,e.a]],null,null),s.Ob(1024,null,e.l,(function(l){return[l]}),[e.d]),s.xb(20,671744,null,0,e.g,[[3,e.c],[8,null],[8,null],[6,e.l],[2,e.x]],{name:[0,"name"]},null),s.Ob(2048,null,e.m,null,[e.g]),s.xb(22,16384,null,0,e.n,[[4,e.m]],null,null),(l()(),s.nb(16777216,null,null,1,null,f)),s.xb(24,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.yb(25,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s.yb(26,0,null,null,5,"input",[["_ngcontent-c0",""],["class","form-control form-control-lg"],["formControlName","password"],["id","cpassword"],["placeholder","Confirm Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0;return"input"===n&&(e=!1!==s.Kb(l,27)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==s.Kb(l,27).onTouched()&&e),"compositionstart"===n&&(e=!1!==s.Kb(l,27)._compositionStart()&&e),"compositionend"===n&&(e=!1!==s.Kb(l,27)._compositionEnd(u.target.value)&&e),e}),null,null)),s.xb(27,16384,null,0,e.d,[s.J,s.n,[2,e.a]],null,null),s.Ob(1024,null,e.l,(function(l){return[l]}),[e.d]),s.xb(29,671744,null,0,e.g,[[3,e.c],[8,null],[8,null],[6,e.l],[2,e.x]],{name:[0,"name"]},null),s.Ob(2048,null,e.m,null,[e.g]),s.xb(31,16384,null,0,e.n,[[4,e.m]],null,null),(l()(),s.nb(16777216,null,null,1,null,h)),s.xb(33,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.nb(16777216,null,null,1,null,v)),s.xb(35,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.yb(36,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),s.yb(37,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),s.yb(38,0,null,null,1,"button",[["class","  btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),s.Rb(-1,null,["Update Password"]))],(function(l,n){var u=n.component;l(n,8,0,u.errorMessage),l(n,10,0,u.successMessage),l(n,13,0,u.ResponseResetForm),l(n,20,0,"newPassword"),l(n,24,0,!u.ResponseResetForm.get("newPassword").valid&&!u.IsResetFormValid),l(n,29,0,"password"),l(n,33,0,!u.ResponseResetForm.get("password").valid&&!u.IsResetFormValid),l(n,35,0,u.ResponseResetForm.get("password").valid&&u.ResponseResetForm.get("password").value!=u.ResponseResetForm.get("newPassword").value&&!u.IsResetFormValid)}),(function(l,n){l(n,11,0,s.Kb(n,15).ngClassUntouched,s.Kb(n,15).ngClassTouched,s.Kb(n,15).ngClassPristine,s.Kb(n,15).ngClassDirty,s.Kb(n,15).ngClassValid,s.Kb(n,15).ngClassInvalid,s.Kb(n,15).ngClassPending),l(n,17,0,s.Kb(n,22).ngClassUntouched,s.Kb(n,22).ngClassTouched,s.Kb(n,22).ngClassPristine,s.Kb(n,22).ngClassDirty,s.Kb(n,22).ngClassValid,s.Kb(n,22).ngClassInvalid,s.Kb(n,22).ngClassPending),l(n,26,0,s.Kb(n,31).ngClassUntouched,s.Kb(n,31).ngClassTouched,s.Kb(n,31).ngClassPristine,s.Kb(n,31).ngClassDirty,s.Kb(n,31).ngClassValid,s.Kb(n,31).ngClassInvalid,s.Kb(n,31).ngClassPending)}))}function R(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,6,"div",[["class","container-fluid form"]],null,null,null,null,null)),(l()(),s.nb(16777216,null,null,1,null,d)),s.xb(2,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.nb(16777216,null,null,1,null,g)),s.xb(4,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null),(l()(),s.nb(16777216,null,null,1,null,w)),s.xb(6,16384,null,0,i.l,[s.U,s.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,"Wait"==u.CurrentState),l(n,4,0,"NotVerified"==u.CurrentState),l(n,6,0,"Verified"==u.CurrentState)}),null)}function y(l){return s.Tb(0,[(l()(),s.yb(0,0,null,null,1,"app-response-reset",[],null,null,null,R,c)),s.xb(1,114688,null,0,t,[a.a,b.k,b.a,e.e],null,null)],(function(l,n){l(n,1,0)}),null)}var I=s.ub("app-response-reset",t,y,{},{},[]);u.d(n,"ResponseResetModuleNgFactory",(function(){return C}));var C=s.vb(o,[],(function(l){return s.Hb([s.Ib(512,s.l,s.gb,[[8,[r.a,I]],[3,s.l],s.A]),s.Ib(4608,i.n,i.m,[s.w,[2,i.z]]),s.Ib(4608,e.e,e.e,[]),s.Ib(4608,e.w,e.w,[]),s.Ib(1073742336,i.c,i.c,[]),s.Ib(1073742336,e.v,e.v,[]),s.Ib(1073742336,e.s,e.s,[]),s.Ib(1073742336,b.m,b.m,[[2,b.r],[2,b.k]]),s.Ib(1073742336,o,o,[]),s.Ib(1024,b.i,(function(){return[[{path:"resetResponse/:token",component:t}]]}),[])])}))}}]);